extends ../layout

block content

  .row
    .col-sm-12
      a.btn.btn-primary(href="/event/new") Crear novo evento

  .row
    .col-sm-4
        form#search-form(method="GET")
            .form-group
                input#search-box.form-control(type="text" name="text" placeholder='ej: libertad de expresion, aborto, pena de muerte, ...' value="#{query || '' }")
            .form-group
                input.btn(type="submit")
        for event in events
            .event-location
                span.js-scroll-to-location(data-coords="#{JSON.stringify(event.location)}") #{event.title}
                a.btn.btn-default.btn-sm(href="/event/#{event.id}") Detalles

        .addthis_native_toolbox
    .col-sm-8
        div#list-event-map

block extra-scripts
    script(src='https://maps.googleapis.com/maps/api/js?key=AIzaSyDz3hvbb5cIUmdhqG7rOmwVbW3djMGc2S8&libraries=places')
    != js('list-event-map')

    script.
        var searchResults = !{JSON.stringify(events)};


